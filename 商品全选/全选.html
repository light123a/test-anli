<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
		</style>
	</head>
	<body>
			<input type="checkbox" id="check_top">全选
			<div class="btn">
				<ul>
					<li>
						<input type="checkbox" class="j_check">商品1		
			<button class="cream">++</button>
			<input type="text" value="1" class="itxt" style="width: 20px;">
			<button class="decream">--</button>
					</li>
				</ul>
			
			<ul>
				<li>
					<input type="checkbox" class="j_check">商品2
			<button class="cream">++</button>
			<input type="text" value="1" class="itxt" style="width: 20px;">
			<button class="decream">--</button>
				</li>
			</ul>
		
			<input type="checkbox" class="check_foot">全选
			</div>
			<script src="jquery-3.4.1.min.js"></script>
		<script>
			$(function(){
				$('#check_top').change(function(){
					$('.j_check,#check_top').prop('checked',$(this).prop('checked'))
				});
				$('.j_check').change(function(){
					if($('.j_check:checked').length==$('.j_check').length){
					$('#check_top').prop('checked',true)
					}else{
					$('#check_top').prop('checked',false)
					}
				})
				$(".check_foot").change(function(){
					$('.j_check,#check_foot,#check_top').prop('checked',$(this).prop('checked'))
				})
				$('.cream').click(function(){
					var n=$(this).siblings('.itxt').val()
					// console.log(n)
					n++
					$(this).siblings('.itxt').val(n) 
					
				})
				$('.decream').click(function(){
			
					var n=$(this).siblings('.itxt').val()
					
					if(n==1){
						return false
					}
					n--
				$(this).siblings('.itxt').val(n)
									
					})
					
				
			})
		</script>
	</body>
	
</html>
