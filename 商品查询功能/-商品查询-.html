<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			table {
				height: 200px;
				width: 500px;
				border: 1px solid #007F9F;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<span>按照价格查询</span>
		<input type="text" style="width: 35px;" class="star">
		--
		<input type="text" style="width: 35px;" class="end">
		<button class="search_price">查询</button>
		<span>按商品名称查询</span>
		<input type="text" style="width: 35px;" class="product">
		<button class="search_pro">查询</button>
		<table>
			<thead>
				<tr>
					<th>1</th>
					<th>1</th>
					<th>1</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<script>
			var data = [{
					id: 1,
					name: "小米1",
					price: 3700
				},
				{
					id: 2,
					name: "小米2",
					price: 3789
				},
				{
					id: 3,
					name: "小米3",
					price: 3800
				},
				{
					id: 4,
					name: "小米4",
					price: 2900
				},
				{
					id: 5,
					name: "小米5",
					price: 1500
				},
			];
			var tbody = document.querySelector('tbody');
			var search_price = document.querySelector('.search_price');
			var star = document.querySelector('.star');
			var end = document.querySelector('.end');
			var product=document.querySelector('.product')
			var search_pro=document.querySelector('.search_pro')
			setdata(data);
			function setdata(mydata){
				tbody.innerHTML="";
				mydata.forEach(function(value) {
					/* console.log(value) */
					var tr = document.createElement('tr')
					tr.innerHTML = '<td>' + value.id + '</td><td>' + value.name + '</td><td>' + value.price + '</td>';
					tbody.appendChild(tr)
				});
			}
			
			//
			search_price.addEventListener('click', function() {
				/* alert(1) */
			var newDate =data.filter(function(value) {
					// console.log(value);
						return value.price >= star.value && value.price <= end.value;
				})
				/* console.log(newDate) */
				setdata(newDate)
			})
			search_pro.addEventListener('click',function(){
				var arr=[]
				data.some(function(value){
					if(value.name===product.value){
						// console.log(value)
						 arr.push(value)
						return true
					}
					
				});
				setdata(arr);
			})
		</script>
	</body>
</html>
